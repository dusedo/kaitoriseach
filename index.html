<!DOCTYPE html>
<html lang="ja">
<head>
    <!-- ... 他のhead内容は変更なし ... -->
    <style>
        /* ... 既存のスタイル ... */
        .copy-container {
            display: flex;
            align-items: center;
        }
        .jan-code {
            border: 1px solid #ccc;
            padding: 5px;
            margin-right: 5px;
            background-color: #f9f9f9;
            user-select: all;
            -webkit-user-select: all;
        }
        .copy-button {
            padding: 2px 5px;
            background-color: #4CAF50;
            color: white;
            border: none;
            cursor: pointer;
            font-size: 0.8em;
        }
        .copy-button:hover {
            background-color: #45a049;
        }
        /* スマートフォン向けのスタイル調整 */
        @media (max-width: 600px) {
            .product-table td {
                display: block;
                text-align: left;
            }
            .product-table td:before {
                content: attr(data-label);
                font-weight: bold;
                display: block;
                margin-bottom: 5px;
            }
            .copy-container {
                margin-top: 5px;
            }
        }
    </style>
</head>
<body>
    <!-- ... 他のbody内容は変更なし ... -->
    <div style="margin-top: 20px;">
        <h4 class="product-list-heading">参照 JANリスト（都度更新します）</h4>
        <table class="product-table">
            <thead>
                <tr>
                    <th>商品名</th>
                    <th>JANコード</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td data-label="商品名">PlayStation 5</td>
                    <td data-label="JANコード">
                        <div class="copy-container">
                            <span class="jan-code">4948872415934</span>
                            <button class="copy-button" onclick="copyJANCode(this)">Copy</button>
                        </div>
                    </td>
                </tr>
                <!-- ... 他の商品行も同様に修正 ... -->
            </tbody>
        </table>
    </div>

    <script>
        // ... 既存のJavaScript ... 

        function copyJANCode(button) {
            var janCodeElement = button.previousElementSibling;
            var range = document.createRange();
            range.selectNode(janCodeElement);
            window.getSelection().removeAllRanges();
            window.getSelection().addRange(range);
            
            try {
                var successful = document.execCommand('copy');
                var msg = successful ? 'JANコードをコピーしました' : 'コピーに失敗しました';
                alert(msg);
            } catch (err) {
                alert('コピーに失敗しました');
            }

            window.getSelection().removeAllRanges();
        }
    </script>
</body>
</html>
